"use strict";(self.webpackChunkrsp_front=self.webpackChunkrsp_front||[]).push([[523],{2523:(E,u,r)=>{r.r(u),r.d(u,{MainGameModule:()=>y});var a=r(6895),l=r(4466),p=r(7033),g=r(727),d=r(3900),C=r(515),t=r(1571),M=r(2995),h=r(2377),c=r(7182);const f=["button"];let G=(()=>{class n{constructor(){this.valueEmitter=new t.vpe}onButtonClick(){this.removeHighlights(),this.button.nativeElement.classList.add("buttonSelected"),this.valueEmitter.emit(this.value)}removeHighlights(){const e=document.querySelectorAll("button.buttonSelected");e&&Array.from(e).map(o=>o.classList.remove("buttonSelected"))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-rsp-button"]],viewQuery:function(e,o){if(1&e&&t.Gf(f,5),2&e){let i;t.iGM(i=t.CRH())&&(o.button=i.first)}},inputs:{image:"image",value:"value"},outputs:{valueEmitter:"valueEmitter"},decls:3,vars:1,consts:[[3,"click"],["button",""],[3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"button",0,1),t.NdJ("click",function(){return o.onButtonClick()}),t._UZ(2,"img",2),t.qZA()),2&e&&(t.xp6(2),t.MGl("src","assets/img/",o.image,"",t.LSH))},styles:["img[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{border:none;background-color:transparent}button.buttonSelected[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,#028484 0%,#028484 68%,transparent 70%,transparent 47%,transparent 48%)}"]}),n})();function v(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-rsp-button",6),t.NdJ("valueEmitter",function(i){t.CHM(e);const m=t.oxw();return t.KtG(m.onButtonClick(i))}),t.qZA()}if(2&n){const e=s.$implicit,o=t.oxw();t.Q6J("image",o.RSPLSGAME_VALUES_IMAGES_MAP.get(e))("value",e)}}function _(n,s){if(1&n&&(t.ynx(0),t._UZ(1,"img",7),t.TgZ(2,"p",8),t._uU(3),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.MGl("src","assets/img/",e.RSPLSGAME_VALUES_IMAGES_MAP.get(e.currentGame.lastPlayComputer),"",t.LSH),t.xp6(2),t.hij(" ",e.RSPLSGAME_RESULT_MESSAGES_MAP.get(e.result)," ")}}let S=(()=>{class n{constructor(){this.RSPLSGAME_VALUES_IMAGES_MAP=c.AV,this.RSPLSGAME_RESULT_MESSAGES_MAP=c.A,this.buttonsList=Object.values(c.EG),this.sendChoiceEmitter=new t.vpe}ngOnInit(){}onButtonClick(e){this.sendChoiceEmitter.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-game-board"]],inputs:{currentGame:"currentGame",result:"result"},outputs:{sendChoiceEmitter:"sendChoiceEmitter"},decls:7,vars:2,consts:[[1,"game-board-container"],[1,"list-container"],[3,"image","value","valueEmitter",4,"ngFor","ngForOf"],[1,"computer-response"],[1,"computer-selection-title"],[4,"ngIf"],[3,"image","value","valueEmitter"],[3,"src"],[1,"result-message"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,v,1,2,"app-rsp-button",2),t.qZA(),t.TgZ(3,"div",3)(4,"p",4),t._uU(5,"Your opponent selected:"),t.qZA(),t.YNc(6,_,4,2,"ng-container",5),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",o.buttonsList),t.xp6(4),t.Q6J("ngIf",o.currentGame&&o.result))},dependencies:[a.sg,a.O5,G],styles:[".list-container[_ngcontent-%COMP%]{display:flex}.computer-response[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center;flex-direction:column;align-items:center}.computer-response[_ngcontent-%COMP%]   p.computer-selection-title[_ngcontent-%COMP%]{align-self:baseline}.computer-response[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:38%}.computer-response[_ngcontent-%COMP%]   p.result-message[_ngcontent-%COMP%]{margin-top:5%;font-weight:700}@media (min-width: 762px){.game-board-container[_ngcontent-%COMP%]{display:flex}.game-board-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{width:50%}.game-board-container[_ngcontent-%COMP%]   .computer-response[_ngcontent-%COMP%]{width:50%;margin-top:0;justify-content:initial}.game-board-container[_ngcontent-%COMP%]   .computer-response[_ngcontent-%COMP%]   p.computer-selection-title[_ngcontent-%COMP%]{align-self:initial}.game-board-container[_ngcontent-%COMP%]   .computer-response[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}}"]}),n})(),b=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-game-scores"]],inputs:{game:"game"},decls:11,vars:3,consts:[[1,"game-scores"],[1,"player"],[1,"title","player-title"],[1,"score","player-score"],[1,"computer"],[1,"title","computer-title"],[1,"score","computer-score"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA(),t.TgZ(4,"span",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"span",5),t._uU(8,"Opponent: "),t.qZA(),t.TgZ(9,"span",6),t._uU(10),t.qZA()()()),2&e&&(t.xp6(3),t.hij("",null==o.game?null:o.game.username,": "),t.xp6(2),t.Oqu(null==o.game?null:o.game.userWins),t.xp6(5),t.Oqu(null==o.game?null:o.game.computerWins))},styles:[".game-scores[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5%}.game-scores[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700}"]}),n})();const O=[{path:"",component:(()=>{class n{constructor(e,o){this.gameService=e,this.customConnectionService=o,this.subscriptions=new g.w0}ngOnInit(){this.subscriptions.add(this.gameService.getCurrentGame().subscribe(e=>{this.currentGame=e})),this.subscriptions.add(this.customConnectionService.hasConnection$.pipe((0,d.w)(e=>e&&this.currentGame?this.gameService.persistDataInMongo(this.currentGame):C.E)).subscribe())}ngOnDestroy(){this.subscriptions.unsubscribe()}playRound(e){this.subscriptions.add(this.gameService.playRound(e,this.currentGame).subscribe(o=>{this.result=o.result}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.h),t.Y36(h.o))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main-game"]],decls:2,vars:3,consts:[[3,"game"],[3,"currentGame","result","sendChoiceEmitter"]],template:function(e,o){1&e&&(t._UZ(0,"app-game-scores",0),t.TgZ(1,"app-game-board",1),t.NdJ("sendChoiceEmitter",function(m){return o.playRound(m)}),t.qZA()),2&e&&(t.Q6J("game",o.currentGame),t.xp6(1),t.Q6J("currentGame",o.currentGame)("result",o.result))},dependencies:[S,b]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(O),p.Bz]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.ez,l.m,P]}),n})()}}]);